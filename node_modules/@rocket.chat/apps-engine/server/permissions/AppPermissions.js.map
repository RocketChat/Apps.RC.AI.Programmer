{"version":3,"sources":["src/server/permissions/AppPermissions.ts"],"names":[],"mappings":"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","file":"AppPermissions.js","sourcesContent":["import type { INetworkingPermission, IPermission, IWorkspaceTokenPermission } from '../../definition/permissions/IPermission';\n\n/**\n * @description\n *\n * App Permission naming rules:\n *\n * 'scope-name': {\n *    'permission-name': { name: 'scope-name.permission-name' }\n * }\n *\n * You can retrive this permission by using:\n * AppPermissions['scope-name']['permission-name'] -> { name: 'scope-name.permission-name' }\n *\n * @example\n *\n * AppPermissions.upload.read // { name: 'upload.read', domains: [] }\n */\nexport const AppPermissions = {\n    user: {\n        read: { name: 'user.read' },\n        write: { name: 'user.write' },\n    },\n    upload: {\n        read: { name: 'upload.read' },\n        write: { name: 'upload.write' },\n    },\n    ui: {\n        interaction: { name: 'ui.interact' },\n        registerButtons: { name: 'ui.registerButtons' },\n    },\n    setting: {\n        read: { name: 'server-setting.read' },\n        write: { name: 'server-setting.write' },\n    },\n    room: {\n        read: { name: 'room.read' },\n        write: { name: 'room.write' },\n    },\n    role: {\n        read: { name: 'role.read' },\n        write: { name: 'role.write' },\n    },\n    message: {\n        read: { name: 'message.read' },\n        write: { name: 'message.write' },\n    },\n    moderation: {\n        read: { name: 'moderation.read' },\n        write: { name: 'moderation.write' },\n    },\n    threads: {\n        read: { name: 'threads.read' },\n    },\n    'livechat-status': {\n        read: { name: 'livechat-status.read' },\n    },\n    'livechat-custom-fields': {\n        write: { name: 'livechat-custom-fields.write' },\n    },\n    'livechat-visitor': {\n        read: { name: 'livechat-visitor.read' },\n        write: { name: 'livechat-visitor.write' },\n    },\n    'livechat-message': {\n        read: { name: 'livechat-message.read' },\n        write: { name: 'livechat-message.write' },\n        multiple: { name: 'livechat-message.multiple' },\n    },\n    'livechat-room': {\n        read: { name: 'livechat-room.read' },\n        write: { name: 'livechat-room.write' },\n    },\n    'livechat-department': {\n        read: { name: 'livechat-department.read' },\n        write: { name: 'livechat-department.write' },\n        multiple: { name: 'livechat-department.multiple' },\n    },\n    env: {\n        read: { name: 'env.read' },\n    },\n    cloud: {\n        'workspace-token': { name: 'cloud.workspace-token', scopes: [] } as IWorkspaceTokenPermission,\n    },\n    // Internal permissions\n    scheduler: {\n        default: { name: 'scheduler' },\n    },\n    networking: {\n        default: { name: 'networking', domains: [] } as INetworkingPermission,\n    },\n    persistence: {\n        default: { name: 'persistence' },\n    },\n    command: {\n        default: { name: 'slashcommand' },\n    },\n    videoConference: {\n        read: { name: 'video-conference.read' },\n        write: { name: 'video-conference.write' },\n        provider: { name: 'video-conference-provider' },\n    },\n    apis: {\n        default: { name: 'api' },\n    },\n    'oauth-app': {\n        read: { name: 'oauth-app.read' },\n        write: { name: 'oauth-app.write' },\n    },\n};\n\n/**\n * @description\n * Default permissions for apps\n * Used to ensure backward compatibility with apps\n * that were developed before the permission system was introduced.\n */\nexport const defaultPermissions: Array<IPermission> = [\n    AppPermissions.user.read,\n    AppPermissions.user.write,\n    AppPermissions.upload.read,\n    AppPermissions.upload.write,\n    AppPermissions.ui.interaction,\n    AppPermissions.setting.read,\n    AppPermissions.setting.write,\n    AppPermissions.room.read,\n    AppPermissions.room.write,\n    AppPermissions.message.read,\n    AppPermissions.message.write,\n    AppPermissions['livechat-department'].read,\n    AppPermissions['livechat-department'].write,\n    AppPermissions['livechat-room'].read,\n    AppPermissions['livechat-room'].write,\n    AppPermissions['livechat-message'].read,\n    AppPermissions['livechat-message'].write,\n    AppPermissions['livechat-visitor'].read,\n    AppPermissions['livechat-visitor'].write,\n    AppPermissions['livechat-status'].read,\n    AppPermissions['livechat-custom-fields'].write,\n    AppPermissions.scheduler.default,\n    AppPermissions.networking.default,\n    AppPermissions.persistence.default,\n    AppPermissions.env.read,\n    AppPermissions.command.default,\n    AppPermissions.videoConference.provider,\n    AppPermissions.videoConference.read,\n    AppPermissions.videoConference.write,\n    AppPermissions.apis.default,\n];\n"]}