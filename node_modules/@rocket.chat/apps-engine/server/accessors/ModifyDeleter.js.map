{"version":3,"sources":["src/server/accessors/ModifyDeleter.ts"],"names":[],"mappings":";;;;;;;;;;;;AAKA,MAAa,aAAa;IACtB,YAA6B,OAAmB,EAAmB,KAAa;QAAnD,YAAO,GAAP,OAAO,CAAY;QAAmB,UAAK,GAAL,KAAK,CAAQ;IAAG,CAAC;IAEvE,UAAU,CAAC,MAAc;;YAClC,OAAO,IAAI,CAAC,OAAO,CAAC,aAAa,EAAE,CAAC,QAAQ,CAAC,MAAM,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC;QACrE,CAAC;KAAA;IAEY,WAAW,CAAC,KAAyC,EAAE,QAAqC;;YACrG,OAAO,IAAI,CAAC,OAAO,CAAC,aAAa,EAAE,CAAC,yBAAyB,CAAC,KAAK,EAAE,QAAQ,CAAC,CAAC;QACnF,CAAC;KAAA;IAEY,aAAa,CAAC,OAAiB,EAAE,IAAW;;YACrD,OAAO,IAAI,CAAC,OAAO,CAAC,gBAAgB,EAAE,CAAC,QAAQ,CAAC,OAAO,EAAE,IAAI,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC;QAC/E,CAAC;KAAA;CACJ;AAdD,sCAcC","file":"ModifyDeleter.js","sourcesContent":["import type { IModifyDeleter } from '../../definition/accessors';\nimport type { IMessage } from '../../definition/messages';\nimport type { AppBridges } from '../bridges';\nimport type { IUser, UserType } from '../../definition/users';\n\nexport class ModifyDeleter implements IModifyDeleter {\n    constructor(private readonly bridges: AppBridges, private readonly appId: string) {}\n\n    public async deleteRoom(roomId: string): Promise<void> {\n        return this.bridges.getRoomBridge().doDelete(roomId, this.appId);\n    }\n\n    public async deleteUsers(appId: Exclude<IUser['appId'], undefined>, userType: UserType.APP | UserType.BOT): Promise<boolean> {\n        return this.bridges.getUserBridge().doDeleteUsersCreatedByApp(appId, userType);\n    }\n\n    public async deleteMessage(message: IMessage, user: IUser): Promise<void> {\n        return this.bridges.getMessageBridge().doDelete(message, user, this.appId);\n    }\n}\n"]}