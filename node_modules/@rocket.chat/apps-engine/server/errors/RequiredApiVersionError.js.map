{"version":3,"sources":["src/server/errors/RequiredApiVersionError.ts"],"names":[],"mappings":";;;AAAA,iCAAiC;AAIjC,MAAa,uBAAuB;IAKhC,YAAY,IAAc,EAAE,gBAAwB;QAJ7C,SAAI,GAAG,oBAAoB,CAAC;QAK/B,IAAI,QAAQ,GAAG,EAAE,CAAC;QAClB,IAAI,MAAM,CAAC,EAAE,CAAC,gBAAgB,EAAE,IAAI,CAAC,kBAAkB,CAAC,EAAE;YACtD,QAAQ,GAAG,mEAAmE,CAAC;SAClF;QAED,IAAI,CAAC,OAAO;YACR,2BAA2B,IAAI,CAAC,IAAI,MAAM,IAAI,CAAC,EAAE,mBAAmB;gBACpE,IAAI,IAAI,CAAC,kBAAkB,iDAAiD;gBAC5E,IAAI,gBAAgB,IAAI,QAAQ,EAAE,CAAC;IAC3C,CAAC;CACJ;AAhBD,0DAgBC","file":"RequiredApiVersionError.js","sourcesContent":["import * as semver from 'semver';\n\nimport type { IAppInfo } from '../../definition/metadata';\n\nexport class RequiredApiVersionError implements Error {\n    public name = 'RequiredApiVersion';\n\n    public message: string;\n\n    constructor(info: IAppInfo, versionInstalled: string) {\n        let moreInfo = '';\n        if (semver.gt(versionInstalled, info.requiredApiVersion)) {\n            moreInfo = ' Please tell the author to update their App as it is out of date.';\n        }\n\n        this.message =\n            `Failed to load the App \"${info.name}\" (${info.id}) as it requires ` +\n            `v${info.requiredApiVersion} of the App API however your server comes with ` +\n            `v${versionInstalled}.${moreInfo}`;\n    }\n}\n"]}